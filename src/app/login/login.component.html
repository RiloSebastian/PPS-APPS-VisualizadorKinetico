<ion-content [fullscreen]="true" color="fondo">
    <form role='form' #ngForm='ngForm' [formGroup]='loginForm'>
        <div class='contenedor'>
            <ion-item lines='none' class='ion-text-center'>
                <ion-title>
                    <ion-icon class='icono' name="person-circle-outline"></ion-icon>
                </ion-title>
            </ion-item>
            <ion-item lines='none' class='ion-text-center'>
                <ion-title>Iniciar Sesion</ion-title>
            </ion-item>
            <ion-item class='ion-padding-horizontal'>
                <ion-label>Elegir Usuarios</ion-label>
                <ion-select interface='popover' (ionChange)='seleccionarUsuario($event.target.value)'>
                    <ion-select-option *ngFor='let usuario of usuarios' [value]='usuario'>{{usuario.correo}}</ion-select-option>
                </ion-select>
            </ion-item>
            <ion-item class='ion-padding-horizontal'>
                <ion-input type='text' formControlName='iUsuario' placeholder='Correo Electronico' require></ion-input>
            </ion-item>
            <div class='ion-padding-horizontal'>
                <ion-label *ngIf='ngForm.submitted && loginForm.controls.iUsuario.errors' color='danger'><small>El Correo Electronico no tiene un formato correcto </small></ion-label>
            </div>
            <ion-item class='ion-padding-horizontal'>
                <ion-input [type]='mostrarPassword ? "text":"password"' placeholder='Contraseña' formControlName='iPassword' require></ion-input>
                <ion-icon slot="end" color="medium" [name]='mostrarPassword ? "eye":"eye-off"' (click)="mostrarPassword = !mostrarPassword"></ion-icon>
            </ion-item>
            <div class='ion-padding-horizontal'>
                <ion-label *ngIf='ngForm.submitted && loginForm.controls.iPassword.errors' color='danger'><small>La contraseña no tiene un formato correcto</small></ion-label>
            </div>
            <div class='submit-button'>
            <div *ngIf='ngForm.submitted && mensajeError !== null' class="ion-text-center" style='color: #eb445a'>{{mensajeError}}</div>
            <ion-button type='submit' expand='block' color='elemento' (click)='tryLogin()'>Iniciar Sesion</ion-button>
            <small class="ion-padding-horizontal"><i style='color: grey'>pista: usuario1 - 111111</i></small>
            </div>
        </div>
    </form>
</ion-content>